<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>FieloEE__SetDefault</fullName>
    <availability>online</availability>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Set Default</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/22.0/connection.js&quot;)}

var programUpdate = [];

var idProgram = &quot;{!FieloEE__Program__c.Id}&quot;;
var resultProgram = sforce.connection.query(&quot;SELECT Id, {!$Setup.FieloEE__PublicSettings__c.FieloEE__PackagePrefix__c}Default__c FROM {!$Setup.FieloEE__PublicSettings__c.FieloEE__PackagePrefix__c}Program__c WHERE Id = \&apos;{!FieloEE__Program__c.Id}\&apos; &quot;);

var program = resultProgram.getArray(&quot;records&quot;)[0];
program.{!$Setup.FieloEE__PublicSettings__c.FieloEE__PackagePrefix__c}Default__c = &apos;true&apos;;
programUpdate.push(program);

if(confirm(&apos;{!$Label.fieloee__programsetdefault}&apos;)){
  result = sforce.connection.update(programUpdate);
  parent.location.href = idProgram;
}</url>
</WebLink>
